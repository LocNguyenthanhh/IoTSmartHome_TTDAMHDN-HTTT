{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"yxn_+7Uu_ueQn[J?,|9!\">A</variable></variables><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"13\" y=\"-87\"><statement name=\"ONSTART\"><block type=\"yolobit_mqtt_connect_wifi\" id=\"[Sq6m+vd[}qP}`sL]x|G\"><value name=\"WIFI\"><shadow type=\"text\" id=\"5ZKg/]/tDVX9oi7Ar~1H\"><field name=\"TEXT\">wifi</field></shadow></value><value name=\"PASSWORD\"><shadow type=\"text\" id=\"9|{Uk)2ax,`N5R|j$/=6\"><field name=\"TEXT\">password</field></shadow></value><next><block type=\"yolobit_mqtt_connect_default_servers\" id=\"?ek-9Z^lfo$CFlJs`r]-\"><field name=\"SERVER\">io.adafruit.com</field><value name=\"USERNAME\"><shadow type=\"text\" id=\"B,;wZFR[E~ETvZu@sPcg\"><field name=\"TEXT\">rdsunshine</field></shadow></value><value name=\"KEY\"><shadow type=\"text\" id=\"Rwrf`VTM?+PdBdx+~IAM\"><field name=\"TEXT\">aio_GlKE52wNbR7w3KUOikUwXlrsLShF</field></shadow></value><next><block type=\"yolobit_basic_scroll_text\" id=\"$EhGas4WQh$CWKBnW@:|\"><value name=\"message\"><shadow type=\"text\" id=\"}lG!%z8V]`gs)w0*ZCn/\"><field name=\"TEXT\">OK</field></shadow></value><next><block type=\"yolobit_mqtt_on_receive_message\" id=\"dp^R~L2@Ooy*Zt/m0G6j\"><field name=\"message\" id=\"yxn_+7Uu_ueQn[J?,|9!\">A</field><value name=\"TOPIC\"><shadow type=\"text\" id=\"Og}:.VdKOG}Xv1Co@pt2\"><field name=\"TEXT\">channel1</field></shadow></value><statement name=\"ACTION\"><block type=\"controls_if\" id=\"|o9!6v6yn6;23|__.%~?\"><mutation else=\"1\"></mutation><value name=\"IF0\"><block type=\"logic_compare\" id=\"cXb01G(?)`0+):3*vmJ|\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"T~AbkqfJz-tH]IKaV(Sw\"><field name=\"VAR\" id=\"yxn_+7Uu_ueQn[J?,|9!\">A</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"x*Mx}eCegEVdyjK`E1^Z\"><field name=\"NUM\">0</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_led_set_all\" id=\"-$uX#ya:=oAG;1BK^u[F\"><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"m2X$FzbK$9qk?+c92J#z\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"yolobit_led_set_all\" id=\"SlZ}(rc4LOlP6LGM+xqS\"><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"ON[[c6:,4]%I(yN26[mv\"><field name=\"COLOUR\">#ff0000</field></shadow></value></block></statement></block></statement></block></next></block></next></block></next></block></statement><statement name=\"FOREVER\"><block type=\"yolobit_mqtt_check_message\" id=\"}V~+z$Nf[ky?{xo^q:yf\"></block></statement></block><block type=\"yolobit_input_on_button_pressed\" id=\"1=`}Uc(:@O)7_6^Wns4.\" x=\"13\" y=\"313\"><field name=\"button\">a</field><statement name=\"NAME\"><block type=\"variables_set\" id=\"zL`~@_2o!P0g=@;%^0G8\"><field name=\"VAR\" id=\"yxn_+7Uu_ueQn[J?,|9!\">A</field><value name=\"VALUE\"><block type=\"math_number\" id=\"|U~odF;o}*p,p$hGX[Ku\"><field name=\"NUM\">0</field></block></value><next><block type=\"yolobit_basic_sleep\" id=\"Ff0(fE`Z:4$-^P:D[6{0\"><value name=\"duration\"><shadow type=\"math_number\" id=\"Sb3$@RiO1]Ja}wcc.p*G\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></statement></block></xml>","python":"from mqtt import *\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nimport time\n\ndef on_mqtt_message_receive_callback__channel1_(A):\n  global th_C3_B4ng_tin\n  if A == 0:\n    display.set_all('#000000')\n  else:\n    display.set_all('#ff0000')\n\ndef on_button_a_pressed():\n  global A, th_C3_B4ng_tin\n  A = 0\n  time.sleep_ms(1000)\n\nbutton_a.on_pressed = on_button_a_pressed\n\nif True:\n  mqtt.connect_wifi('wifi', 'password')\n  mqtt.connect_broker(server='io.adafruit.com', port=1883, username='rdsunshine', password='aio_GlKE52wNbR7w3KUOikUwXlrsLShF')\n  display.scroll('OK')\n  mqtt.on_receive_message('channel1', on_mqtt_message_receive_callback__channel1_)\n\nwhile True:\n  mqtt.check_message()\n  time.sleep_ms(10)\n","name":"untitled","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_mqtt","src":"https://github.com/AITT-VN/yolobit_extension_mqtt","name":"MQTT","description":"Mục mở rộng hỗ trợ giao tiếp MQTT cho ứng dụng IoT"}],"device":"yolobit"}